namespace SpriteKind {
    export const NPC = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    rot = 2
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        mySprite.vy = -100
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.NPC, function (sprite, otherSprite) {
    if (otherSprite == mySprite2) {
        if (dialog == 0) {
            game.showLongText("u ken plece grass with the b butan", DialogLayout.Bottom)
            info.setScore(5)
            activeb = 1
            pause(1000)
        } else if (dialog == 1) {
            game.showLongText("u ken brek grass with the a butan", DialogLayout.Bottom)
            activea = 1
            pause(1000)
        } else if (dialog == 2) {
            game.showLongText("try to get up to me", DialogLayout.Bottom)
            mySprite2.follow(moveto, 100)
            pause(1000)
            dialog += 1
        } else if (dialog == 3) {
            game.showLongText("i will brek this wal now", DialogLayout.Bottom)
            pause(1000)
            breakWall()
        } else if (dialog == 4) {
            game.showLongText("have fun creating stuf", DialogLayout.Bottom)
            pause(1000)
        }
    }
})
controller.player2.onButtonEvent(ControllerButton.B, ControllerButtonEvent.Pressed, function () {
    info.changeScoreBy(5)
})
function breakWall () {
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight0)) {
        tiles.setWallAt(value, false)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight1)) {
        tiles.setWallAt(value, false)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight2)) {
        tiles.setWallAt(value, false)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLightMoss)) {
        tiles.setWallAt(value, false)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight5)) {
        tiles.setWallAt(value, false)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight4)) {
        tiles.setWallAt(value, false)
    }
    pause(1000)
    animation.runImageAnimation(
    mySprite2,
    assets.animation`breakwall`,
    200,
    false
    )
    pause(200)
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight0)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight1)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight2)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLightMoss)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight5)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight4)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    pause(2000)
    dialog += 1
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (invmode == 0) {
        if (activeb == 1) {
            if (0 < info.score()) {
                if (rot == 0) {
                    if (mySprite.tileKindAt(TileDirection.Left, assets.tile`transparency16`)) {
                        tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), assets.tile`grassssssssss`)
                        tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), true)
                        info.changeScoreBy(-1)
                    }
                } else if (rot == 1) {
                    if (mySprite.tileKindAt(TileDirection.Right, assets.tile`transparency16`)) {
                        tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), assets.tile`grassssssssss`)
                        tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), true)
                        info.changeScoreBy(-1)
                    }
                } else if (rot == 2) {
                    if (mySprite.tileKindAt(TileDirection.Bottom, assets.tile`transparency16`)) {
                        tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Bottom), assets.tile`grassssssssss`)
                        tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Bottom), true)
                        info.changeScoreBy(-1)
                    }
                } else if (rot == 3) {
                    if (mySprite.tileKindAt(TileDirection.Top, assets.tile`transparency16`)) {
                        tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), assets.tile`grassssssssss`)
                        tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), true)
                        info.changeScoreBy(-1)
                    }
                } else {
                	
                }
            }
            if (dialog == 0) {
                dialog += 1
            }
        }
    } else if (invmode == 1) {
    	
    } else if (invmode == 2) {
    	
    } else {
    	
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (invmode == 0) {
        if (activea == 1) {
            if (rot == 0) {
                if (mySprite.tileKindAt(TileDirection.Left, assets.tile`grassssssssss`)) {
                    tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), assets.tile`transparency16`)
                    tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), false)
                    info.changeScoreBy(1)
                }
            } else if (rot == 1) {
                if (mySprite.tileKindAt(TileDirection.Right, assets.tile`grassssssssss`)) {
                    tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), assets.tile`transparency16`)
                    tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), false)
                    info.changeScoreBy(1)
                }
            } else if (rot == 2) {
                if (mySprite.tileKindAt(TileDirection.Right, assets.tile`grassssssssss`)) {
                    tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), assets.tile`transparency16`)
                    tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), false)
                    info.changeScoreBy(1)
                }
                if (mySprite.tileKindAt(TileDirection.Left, assets.tile`grassssssssss`)) {
                    tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), assets.tile`transparency16`)
                    tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), false)
                    info.changeScoreBy(1)
                }
                if (mySprite.tileKindAt(TileDirection.Top, assets.tile`grassssssssss`)) {
                    tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), assets.tile`transparency16`)
                    tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), false)
                    info.changeScoreBy(1)
                }
            } else if (rot == 3) {
                if (mySprite.tileKindAt(TileDirection.Bottom, assets.tile`grassssssssss`)) {
                    tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Bottom), assets.tile`transparency16`)
                    tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Bottom), false)
                    info.changeScoreBy(1)
                }
            } else {
            	
            }
            if (dialog == 1) {
                dialog += 1
            }
        }
    } else if (invmode == 1) {
        if (rot == 0) {
            if (mySprite.tileKindAt(TileDirection.Left, assets.tile`grassssssssss`)) {
                tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), assets.tile`transparency16`)
                tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), false)
                info.changeScoreBy(1)
            }
        } else if (rot == 1) {
            if (mySprite.tileKindAt(TileDirection.Right, assets.tile`grassssssssss`)) {
                tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), assets.tile`transparency16`)
                tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), false)
                info.changeScoreBy(1)
            }
        } else if (rot == 2) {
            if (mySprite.tileKindAt(TileDirection.Right, assets.tile`grassssssssss`)) {
                tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), assets.tile`transparency16`)
                tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Right), false)
                info.changeScoreBy(1)
            }
            if (mySprite.tileKindAt(TileDirection.Left, assets.tile`grassssssssss`)) {
                tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), assets.tile`transparency16`)
                tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Left), false)
                info.changeScoreBy(1)
            }
            if (mySprite.tileKindAt(TileDirection.Top, assets.tile`grassssssssss`)) {
                tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), assets.tile`transparency16`)
                tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Top), false)
                info.changeScoreBy(1)
            }
        } else if (rot == 3) {
            if (mySprite.tileKindAt(TileDirection.Bottom, assets.tile`grassssssssss`)) {
                tiles.setTileAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Bottom), assets.tile`transparency16`)
                tiles.setWallAt(mySprite.tilemapLocation().getNeighboringLocation(CollisionDirection.Bottom), false)
                info.changeScoreBy(1)
            }
        } else {
        	
        }
    } else if (invmode == 2) {
    	
    } else {
    	
    }
})
controller.player2.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
    dialog += 1
    mySprite.sayText("<debug> dialog: " + dialog, 500, false)
    if (dialog == 1) {
        activeb = 1
    } else if (dialog == 2) {
        activea = 1
    } else if (dialog == 4) {
        breakWall2()
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    rot = 0
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    rot = 1
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    rot = 3
})
controller.menu.onEvent(ControllerButtonEvent.Pressed, function () {
    if (invmode == 0) {
        invmode = 1
        mySprite.sayText("<debug> buildmode2")
    } else if (invmode == 1) {
        invmode = 2
        mySprite.sayText("<debug> attackmode")
    } else if (invmode == 2) {
        invmode = 0
        mySprite.sayText("<debug> buildmode")
    }
    pause(500)
    mySprite.sayText("")
})
function breakWall2 () {
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight0)) {
        tiles.setWallAt(value, false)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight1)) {
        tiles.setWallAt(value, false)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight2)) {
        tiles.setWallAt(value, false)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLightMoss)) {
        tiles.setWallAt(value, false)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight5)) {
        tiles.setWallAt(value, false)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(sprites.dungeon.floorLight4)) {
        tiles.setWallAt(value, false)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
let invmode = 0
let activea = 0
let activeb = 0
let dialog = 0
let moveto: Sprite = null
let mySprite2: Sprite = null
let mySprite: Sprite = null
let rot = 0
info.setLife(200)
rot = 0
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111ddd999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111dddd9999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111ddd999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111dd99999999999999999999999999999999999
    999999999999999999999999999999999999999dd999999999999999999999999999999999999999999999999999999999999999ddddddd111111111111dd99999999999999999999999999999999999
    99999999999999999999999999999999999911ddddd99999999999999999999999999999999999999999999999999999999999dddddddddd11111111111dd19999999999999999999999999999999999
    999999999999999999999999999999999991111111dd9999999999999999999999999999999999999999999999999999999999dd111111d1111111111111d11199999999999999999999999999999999
    9999999999999999999999999999999999911111111d999999999999999999999999999999999999999999999999999999999dd111111111111111111111111119ddd999999999999999999999999999
    9999999999999999999999999999999999111111111dd191ddd99999999999999999999999999999999999999999999999991dd11111111111111111111111111dddddd9999999999999999999999999
    9999999999999999999999999999999999111111111dd11ddddddddd99999999999999999999999999999999999999999999dd11111111111111111111111111dd111ddd999999999999999999999999
    9999999999999999999999999999999999111111111dd11111111ddddd9999999999999999999999999999999999999999991d11111111111111111111111111dd1111dd999999999999999999999999
    99999999999999999999999991dddddddd1111111111d11111111ddddd1999999999999999999999999999999999999999dddd11111111dd11111111111111111111111dd99999999999999999999999
    999999999999999999999999ddddddddddd11111111111111111111111119999999999999999999999999999999999999ddd1dd111111dd111111111111111111111111dd99999999999999999999999
    999999999999999999999991dd11111111dd111111111111111111111111199999999999999999999999999999999999ddd1111111111dd111111111111111111111111dd99999999999999999999999
    99999999999999999999999dd11111111111111111111111111111111111199999999999999999999999999999999999dd1111111111111111111111111111111111111d999999999999999999999999
    9999999999999999999999dd111111111111111111111111111111111111199999999999999999999999999999999999d1111111111111111111111111111111111111dd999999999999999999999999
    9999999999999999999999dd1111111111111111111111dd111111111111199999999999999999999999999999999999d1111111111111111111111111111111111111dd999999999999999999999999
    9999999999999999999999111111111111111111111111dd11111111111119999999999999999999999999999999999911111111111111111111111111dd111111111dd9999999999999999999999999
    99999999999999999999991111111111111111111111111dd1111111111b19999999999999999999999999999999999911111111111111111111111111dd111111111d19999999999999999999999999
    99999999999999999999999111111111111111111111111dd11bbb111bbb99999999999999999999999999999999999991111111111111111111111111dd111111111119999999999999999999999999
    99999999999999999999999111111111111111111111111ddbbbbbbbbbb999999999999999999999999999999999999999bbbbbbbbbbb1111111111111dd111111111199999999999999999999999999
    9999999999999999999999991bb1111111111bbb111111bbb9999911999999999999999999999999999999999999999999bbbbbbbbbbbbb11111111111ddbbbbbbbbb999999999999999999999999999
    9999999999999999999999999bbbbbbbbbbbbbbbbbbbbbbb9999999999999999999999999999999999999999999999999999999999999bbbb1111111bbdbbbbbbb999999999999999999999999999999
    999999999999999999999999991bbbbbbbbbb9991bbbbb19999999999999999999999999999999999999999999999999999999999999999bbbbbbbbbbbb9999999999999999999999999999999999999
    999999999999999999999999999999999999999999111999999999999999999999999999999999999999999999999999999999999999999999bbbbb99999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911dddd9999999999999999999999999999999
    99999999999999999999999999999999999999999999ddddd99999999999999999999999999999999999999999999999999999999999999999999999911111ddddd99999999999999999999999999999
    9999999999999999999999999999999999dddddddddddddddddd99999999999999999999999999999999999999999999999999999999999999999999111111111ddd9911111999999999999999999999
    9999999999999999999999999999999911ddd111dddd111111dddd9999999999999999999999999999999999999999999999999999999999999ddddd1111111111ddd1111dd119999999999999999999
    9999999999999999999999ddddddddd1111111111dd111111111ddd99999999999999999999999999999999999999999999999999999999999ddddddddd11111111dd1111dddd1999999999999999999
    999999999999999999991dddddd1ddddd111111111111111111111dd1199999999999999999999999999999999999999999999999999999991d111111dd11111111dd1111111dd999999999999999999
    9999999999999999991111111111111dddd11111111111111111111d111111dd999999999999999999999999999999999999999999d999991111111111111111111111111111dd999999999999999999
    999999999999999991dd1111111111111dd11111111111111111111d111111dddd999999999999999999999999999999999999dddddddddd1111111111111111111111111111dd199999999999999999
    9999999999991ddddddddd1111111111111111111111111111111111111111111dd9999999999999999999999999999999999ddd11111ddddd11111111111111111111111111dd999999999999999999
    999999999991111111111111111111111111111111111111dd1111111111111111dd99999999999999999999999999999999911111111111dd11111111111111111111111111dd999999999999999999
    999999999991111111111111111111111111111111111111dd11111111111111111d99999999999999999999999999999999911111111111111111111111111111111111111dd1999999999999999999
    9999999999111111111111111111111111111111111111111dd1111111111111111d999999999999999999999999999999999111111111111111111111111dd11111111111dd19999999999999999999
    9999999999911111111111111111111111111111111111111dd11111111111111111999999999999999999999999999999999111111111111111111111111dd11111111111d119999999999999999999
    9999999999911111111111bbbbb1111dd1111bbbbbbbbbb11d1111111111111111119999999999999999999999999999999999111111111111111111111ddddd111111111b1999999999999999999999
    9999999999991bbb111bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb11999999999999999999999999999999999999bbbbbbbbbbbbb111bbbbbbbbbbbbbbbbbbb9999999999999999999999
    9999999999999bbbbbbbbb9999999bb9999999999999999999bbbbbbbbbbbbbbbb9999999999999999999999999999999999999bbb9999999bbbbbbbbbbbb99999999bbb999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
tiles.setCurrentTilemap(tilemap`level1`)
mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . f . . . . . . . . . . . 
    . . . . . . . . . . . f . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . f . 
    . . . . . . . . . . . . . f f . 
    . f . . . . . . . . . . f f . . 
    . f f . . . . . . . . f f . . . 
    . . f f f f f f f f f f . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 100, 0)
mySprite.ay = 250
mySprite2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . f . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . f . . . . . . 
    . . . . . . . . . f . . . . . . 
    . . . . . . . . . f . . . . . . 
    . . . . . . . . . f . . f . . . 
    . . f . . . . . f f . . . . . . 
    . . f . . . . . f . . . . . . . 
    . . . f f . . . f . . . . . . . 
    . . . . f f f f f . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.NPC)
tiles.placeOnTile(mySprite2, tiles.getTileLocation(7, 5))
moveto = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
tiles.placeOnTile(moveto, tiles.getTileLocation(9, 2))
controller.player2.moveSprite(mySprite)
forever(function () {
    if (mySprite2.tileKindAt(TileDirection.Center, assets.tile`grassssssssss`)) {
        tiles.setTileAt(mySprite2.tilemapLocation(), assets.tile`transparency16`)
        tiles.setWallAt(mySprite2.tilemapLocation(), false)
        info.changeScoreBy(1)
    }
})
forever(function () {
    if (mySprite.tileKindAt(TileDirection.Bottom, sprites.dungeon.hazardLava0) || mySprite.tileKindAt(TileDirection.Bottom, sprites.dungeon.hazardLava1)) {
        rot = 2
        mySprite.vy += -500
    }
})
forever(function () {
	
})
